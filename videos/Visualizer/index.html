<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <title>LIH - Visualizer</title>

        <link rel="stylesheet" href="./style.css" />
        <link
            rel="icon"
            href="../../assets/images/icon.png"
            type="image/x-icon"
        />

        <!-- Load Header and Footer -->
        <script
            src="https://code.jquery.com/jquery-3.3.1.js"
            integrity="sha256-2Kok7MbOyxpgUVvA²k/HJ2jigOSYS2auK4Pfzbm7uH60="
            crossorigin="anonymous"
        ></script>
        <script>
            $(function () {
                $("#header").load("../../assets/html-assets/header.html");
                $("#footer").load("footer.html");
            });
        </script>

        <!-- Change header colors -->
        <style>
            :root {
                --header-background-color: #18181899;
                --header-left-window-background-color: #fff4;
                --header-left-window-home-button-color: #000;
                --header-text-color: #f1e7d9;
                --header-left-window-text-color: #000a;
            }
        </style>
    </head>
    <body>
        <div id="header"></div>

        <div class="page-title"><h1>visualizer</h1></div>
        <div class="vertical-flow">
            <div class="basic-text">
                <h2>analyse</h2>
                <p>
                    <span>Let it happen</span> est le premier titre de l'album
                    <span>Currents</span> de <span>Tame Impala</span>. Il
                    représente une force immuable qui nous pousse en
                    <span>avant</span>. Let it happen se concentre sur le
                    <span>déni</span> que l'on peut d'abord ressentir vis à vis
                    de cette force jusqu'à s'y <span>laisser aller</span>. Une
                    partie de la musique se <span>répète</span> comme un disque
                    rayé.
                </p>

                <h2>pitch</h2>
                <p>
                    <span>Vidéo</span> d'une vingtaine de secondes d'une
                    personne ayant l'air <span>perdue</span> dans une
                    <span>boucle infinie</span>, mimant la force qui le pousse.
                    Le personnage dans le déni ne s'<span>arrêtera</span> alors
                    <span>jamais</span> d'essayer de trouver une sortie qui
                    n'existe pas. La vidéo incluerait de l'<span>animation
                    frame-by-frame</span> pour représenter le <span>changement
                    du personnage</span>.
                </p>
                <h2>inspirations</h2>
            </div>

            <div class="images">
                <div class="left-images">
                    <div class="one image"><a href="https://www.youtube.com/watch?v=vXbCWJNfq_0" target="_blank" class="filter">evangelion</a></div>
                    <div class="two image"><a href="https://www.youtube.com/watch?v=DGtuQRohHds" target="_blank" class="filter">control</a></div>
                </div>
                <div class="middle-images image"><a href="https://www.youtube.com/watch?v=544EAtD2TmM" target="_blank" class="filter">liminal<br>spaces</a></div>
                <div class="right-images image"><a href="https://fr.wikipedia.org/wiki/Porte" target="_blank" class="filter">porte</a></div>
            </div>

            <div class="basic-text">
                <h2>recherches</h2>
            </div>
            <div class="recherches">
                <video class="videos" src="./assets/recherche vidéo 1.mp4" loop muted></video>
                <div class="video-overlay">
                    <div class="play-pause-button" onclick="playPause()"></div>
                    <div class="mute-unmute-button" onclick="muteUnmute()"></div>
                </div>
                <div class="deux-trucs">
                    <img src="./assets/Visualizer.gif">
                    <div></div>
                </div>
                <video class="videos" src="./assets/Recherche Graphique 3.mp4" autoplay muted loop></video>
            </div>

            <div class="basic-text">
                <h2>final</h2>
            </div>
        </div>

        <div class="youtube-visualizer">
            <iframe
                class="youtube-visualizer"
                src="https://www.youtube.com/embed/xpmkGxxlwag?si=m4bsPEk-EBtx1rBm"
                title="YouTube video player"
                frameborder="0"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                allowfullscreen
            ></iframe>
        </div>

        <script>
            let isPlay = false
            let displayPlay = document.getElementsByClassName('video-overlay')[0]
            let displayPlay1 = document.getElementsByClassName('video-overlay')[0].children
            console.log('Les enfants de .video-overlay : '+displayPlay1)

            function playPause() {
                console.log("l'état de isPlay : "+isPlay)
                if(isPlay === false) {
                    displayPlay.classList.add('displayPlay');
                    displayPlay.style.backgroundImage = 'none';
                    for(let i = 0; i < displayPlay1.length; i++) {
                        displayPlay1[i].classList.add('displayPlay');
                        console.log("ok c'est bon : "+i);
                        document.getElementsByClassName('recherches')[0].children[0].play()
                    }
                    isPlay = true;
                } else { 
                    displayPlay.classList.remove('displayPlay')
                    for(let i = 0; i < displayPlay1.length; i++) {
                        displayPlay1[i].classList.remove('displayPlay');
                        console.log("c'est ok pour :  "+i);
                        document.getElementsByClassName('recherches')[0].children[0].pause()
                    }
                    isPlay = false;
                }
            }

            let isMute = true
            let videoMuted = document.getElementsByClassName('recherches')[0].children[0]
            function muteUnmute() {
                if(isMute === true) {
                    videoMuted.muted = false
                    isMute = false
                    document.getElementsByClassName('mute-unmute-button')[0].classList.add('displayMute')
                } else {
                    videoMuted.muted = true
                    isMute = true
                    document.getElementsByClassName('mute-unmute-button')[0].classList.remove('displayMute')
                }
            }
        </script>
    </body>
</html>
